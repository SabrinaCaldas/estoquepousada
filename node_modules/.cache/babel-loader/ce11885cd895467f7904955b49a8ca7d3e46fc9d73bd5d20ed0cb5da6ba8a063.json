{"ast":null,"code":"var _jsxFileName = \"C:\\\\estoquepousada\\\\src\\\\Pages\\\\Home.js\";\nimport React from 'react';\nimport api from '../api';\nimport EditProdutoForm from '../components/forms/EditProdutoForm';\nimport ProdutoTable from '../components/table/ProdutoTable';\nimport AddProdutoForm from '../components/forms/AddProdutoForm';\nimport FlashMessage from 'react-flash-message';\nimport { Button } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleButtonAdd = () => {\n      const state = this.state.buttonAdd;\n      this.setState({\n        buttonAdd: !state\n      });\n    };\n    this.handleShowMessege = ativo => {\n      const troca = this.state.showMessege;\n      this.setState({\n        showMessege: !troca\n      });\n    };\n    this.addProduto = produto => {\n      api.post('/create', produto).then(res => {\n        this.setState({\n          showMessege: true\n        });\n        console.log('Produto adicionado');\n        this.handleChangeTable();\n      }).catch(error => {\n        console.log(\"Erro ao adicionar produto\");\n      });\n    };\n    this.updateProduto = (id, produto) => {\n      api.put(`/update/${id}`, produto).then(res => {\n        console.log('Produto atualizado');\n        this.handleChangeTable();\n        this.setState({\n          currentProduto: {\n            id: null,\n            item: '',\n            quantidade: '',\n            valor: ''\n          }\n        });\n        this.setEditing(false);\n      }).catch(error => {\n        console.log('erro ao atualizar produto');\n      });\n    };\n    this.editRow = produto => {\n      this.setEditing(true);\n      this.setState({\n        currentProduto: {\n          id: produto.id,\n          item: produto.item,\n          quantidade: produto.quantidade,\n          valor: produto.valor\n        }\n      });\n      console.log(this.currentProduto);\n    };\n    this.setEditing = isEditing => {\n      this.setState({\n        editing: isEditing\n      });\n    };\n    this.deleteProduto = id => {\n      api.delete(`/delete/${id}`).then(res => {\n        console.log('produto deletado');\n        this.handleChangeTable();\n      });\n    };\n    this.state = {\n      produtos: [],\n      currentProduto: {\n        id: null,\n        item: \"\",\n        quantidade: '',\n        valor: ''\n      },\n      editing: false,\n      buttonAdd: false,\n      showMessege: false\n    };\n    this.handleChangeTable = this.handleChangeTable.bind(this);\n  }\n  componentDidMount() {\n    this.handleChangeTable();\n  }\n  async handleChangeTable() {\n    const response = await api.get('');\n    const produtos = response.data.data;\n    console.log(produtos);\n    this.setState({\n      produtos: produtos\n      //setProdutos:response.data\n    });\n  }\n  render() {\n    const produtos = this.state.produtos;\n    const buttonAdd = this.state.buttonAdd;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: this.state.editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"list-group-item-primary\",\n            children: \"Editar Produto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(EditProdutoForm, {\n            editing: this.state.editing,\n            currentProduto: this.state.currentProduto,\n            updateProduto: this.updateProduto,\n            showMessege: this.state.showMessege,\n            handleShowMessege: this.handleShowMessege,\n            setEditing: this.setEditing\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 33\n          }, this), this.state.showMessege && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FlashMessage, {\n              duration: 5000,\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"I will disapper in 5 seconds!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 65\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 61\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: this.handleButtonAdd,\n            children: \"Adicionar Produto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 33\n          }, this), buttonAdd && /*#__PURE__*/_jsxDEV(AddProdutoForm, {\n            addProduto: this.addProduto,\n            handleButtonAdd: this.handleButtonAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"list-group-item list-group list-group-item-primary\",\n          children: \"Lista de Produtos cadastrados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ProdutoTable, {\n          produtos: produtos,\n          editRow: this.editRow,\n          deleteProduto: this.deleteProduto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  }\n}\n;\nexport default Home;","map":{"version":3,"names":["React","api","EditProdutoForm","ProdutoTable","AddProdutoForm","FlashMessage","Button","jsxDEV","_jsxDEV","Home","Component","constructor","props","handleButtonAdd","state","buttonAdd","setState","handleShowMessege","ativo","troca","showMessege","addProduto","produto","post","then","res","console","log","handleChangeTable","catch","error","updateProduto","id","put","currentProduto","item","quantidade","valor","setEditing","editRow","isEditing","editing","deleteProduto","delete","produtos","bind","componentDidMount","response","get","data","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber","duration","variant","onClick"],"sources":["C:/estoquepousada/src/Pages/Home.js"],"sourcesContent":["import React from 'react';\r\nimport api from '../api';\r\nimport EditProdutoForm from '../components/forms/EditProdutoForm';\r\nimport ProdutoTable from '../components/table/ProdutoTable'\r\nimport AddProdutoForm from '../components/forms/AddProdutoForm';\r\nimport FlashMessage from 'react-flash-message';\r\nimport { Button } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nclass Home extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            produtos:[],\r\n            currentProduto:{\r\n                id:null,\r\n                item:\"\",\r\n                quantidade:'',\r\n                valor:''\r\n            },\r\n            editing:false,\r\n            buttonAdd:false,\r\n            showMessege:false\r\n        };\r\n        this.handleChangeTable = this.handleChangeTable.bind(this);\r\n        \r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.handleChangeTable();\r\n\r\n    };\r\n    async handleChangeTable(){\r\n        const response = await api.get('');\r\n        const produtos = response.data.data;\r\n          console.log(produtos);\r\n            this.setState({\r\n              produtos:produtos\r\n              //setProdutos:response.data\r\n            });\r\n    }\r\n    handleButtonAdd = () => {\r\n        const state = this.state.buttonAdd;\r\n        this.setState({\r\n            buttonAdd: !state\r\n        });\r\n    }\r\n    handleShowMessege = (ativo) => {\r\n        const troca = this.state.showMessege;\r\n        this.setState({\r\n            showMessege: !troca\r\n        });\r\n\r\n    }\r\n\r\n    addProduto = produto => {\r\n       api.post('/create', produto)\r\n        .then( res => { \r\n            this.setState({\r\n                showMessege:true\r\n            });\r\n            console.log('Produto adicionado');\r\n            this.handleChangeTable();\r\n        }).catch( error=> {\r\n            console.log(\"Erro ao adicionar produto\");\r\n\r\n        });\r\n    }\r\n    updateProduto = (id, produto) =>{\r\n        api.put(`/update/${id}`, produto)\r\n        .then(res => {\r\n            console.log('Produto atualizado');\r\n            this.handleChangeTable();\r\n            this.setState({\r\n                currentProduto:{\r\n                    id:null,\r\n                    item:'',\r\n                    quantidade:'',\r\n                    valor:''\r\n                }\r\n            });\r\n            this.setEditing(false);\r\n\r\n        }).catch(error=>{ \r\n            console.log('erro ao atualizar produto');\r\n        });\r\n    }\r\n    editRow = produto => {\r\n      \r\n        this.setEditing(true);\r\n        \r\n        this.setState({currentProduto:{id:produto.id,  item:produto.item,\r\n             quantidade:produto.quantidade, valor:produto.valor}});\r\n        console.log(this.currentProduto);\r\n        \r\n    }\r\n    setEditing = isEditing =>{\r\n        this.setState({\r\n            editing: isEditing\r\n        });\r\n    }\r\n\r\n    deleteProduto = id => {\r\n        api.delete(`/delete/${id}`)\r\n        .then(res=>{\r\n            console.log('produto deletado');\r\n            this.handleChangeTable();\r\n        });\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    render(){\r\n        const produtos = this.state.produtos;\r\n        const buttonAdd = this.state.buttonAdd;        \r\n\r\n        return(\r\n            <div>\r\n                \r\n                <div className ='container'>\r\n                    { \r\n                        this.state.editing ?(\r\n                            <div>\r\n                                <h4 className='list-group-item-primary'>Editar Produto</h4>\r\n                                <EditProdutoForm\r\n                                    editing = {this.state.editing}\r\n                                    currentProduto = {this.state.currentProduto}\r\n                                    updateProduto = {this.updateProduto}\r\n                                    showMessege = {this.state.showMessege}\r\n                                    handleShowMessege = {this.handleShowMessege}\r\n                                    setEditing = {this.setEditing}\r\n\r\n                                />\r\n                               {this.state.showMessege &&  \r\n                                                            <div>\r\n                                                                <FlashMessage duration={5000}>\r\n                                                                    <strong>I will disapper in 5 seconds!</strong>\r\n                                                                </FlashMessage>\r\n                                                            </div>\r\n                                }\r\n\r\n                            </div>\r\n\r\n                        ) : (\r\n                            <div>\r\n                                <Button\r\n                                variant = 'primary' \r\n                                onClick={this.handleButtonAdd}\r\n                                >Adicionar Produto</Button>\r\n                                {\r\n                                    buttonAdd && <AddProdutoForm \r\n                                    addProduto={this.addProduto}\r\n                                    handleButtonAdd={this.handleButtonAdd}                                   \r\n                                     \r\n                                     />\r\n                                }\r\n                                \r\n\r\n                            </div>\r\n\r\n\r\n                        )\r\n\r\n                    }\r\n\r\n                </div>\r\n                <div className='container'>\r\n                    <h5 className='list-group-item list-group list-group-item-primary'>Lista de Produtos cadastrados</h5>\r\n                    <ProdutoTable \r\n                         produtos = {produtos}\r\n                         editRow = {this.editRow}\r\n                         deleteProduto = {this.deleteProduto}/>              \r\n                </div>\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n\r\n}; export default Home"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}